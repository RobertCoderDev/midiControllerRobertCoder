<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valeton GP-200 Controller Config</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>GP-200 Smart Controller</h1>
            <div class="connection-status">
                <span id="statusText">Desconectado</span>
                <button id="btnConnect">üîå Conectar USB/Serial</button>
            </div>
        </header>

        <main id="mainPanel" class="disabled">
            <div class="controls-top">
                <button id="btnLoad">üì• Leer Configuraci√≥n</button>

                <!-- Bank Manager -->
                <div class="bank-selector">
                    <button id="btnPrevBank">‚óÄ</button>

                    <div class="bank-info">
                        <span id="lblBankIndex">Bank 0</span>
                        <div class="input-group">
                            <input type="text" id="txtBankName" maxlength="8" placeholder="BANK NAME">
                            <button id="btnSaveBank" class="btn-mini">üíæ</button>
                        </div>
                    </div>

                    <button id="btnNextBank">‚ñ∂</button>
                    
                    <div class="bank-actions">
                        <button id="btnAddBank" class="btn-mini-action" title="Agregar Banco">
                            <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        </button>
                        <button id="btnDelBank" class="btn-mini-action btn-danger" title="Borrar Banco">
                            <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
                        </button>
                    </div>
                </div>
            </div>

            <div class="pedalboard">
                <!-- Bot√≥n 1 -->
                <div class="footswitch" data-index="0">
                    <div class="fs-header">Preset 1</div>
                    <input type="text" class="fs-name" maxlength="4" placeholder="NAME">

                    <label>Tipo:</label>
                    <select class="fs-type">
                        <option value="P">Preset (PC)</option>
                        <option value="D">Efecto (CC)</option>
                    </select>

                    <div class="fs-dynamic-content">
                        <div class="fs-options-preset">
                            <label>Bank:</label><input type="number" class="fs-val2-pc" min="0" max="99">
                            <label>Prog:</label><input type="number" class="fs-val1-pc" min="0" max="99">
                        </div>

                        <div class="fs-options-dict" style="display:none;">
                            <label>Efecto:</label>
                            <select class="fs-val1-dict">
                                <!-- Se llena con JS -->
                            </select>
                        </div>
                    </div>

                    <!-- Long Press Section -->
                    <div class="lp-separator">Long Press (Hold)</div>
                    <div class="lp-container">
                        <label>Acci√≥n:</label>
                        <select class="fs-lp-type">
                            <option value="N">-- Nada --</option>
                            <option value="P">Cambiar Preset</option>
                            <option value="C">Midi CC (Custom)</option>
                            <option value="D">Efecto / Funci√≥n</option>
                        </select>
                        
                        <div class="lp-options lp-opt-p" style="display:none;">
                            <input type="number" class="fs-lp-v2-p" placeholder="Bank" title="Bank">
                            <input type="number" class="fs-lp-v1-p" placeholder="Prog" title="Program">
                        </div>
                        <div class="lp-options lp-opt-c" style="display:none;">
                            <input type="number" class="fs-lp-v1-c" placeholder="CC#" title="CC Number">
                            <input type="number" class="fs-lp-v2-c" placeholder="Val" title="Value">
                        </div>
                        <div class="lp-options lp-opt-d" style="display:none;">
                            <select class="fs-lp-val-d fs-val1-dict"></select>
                        </div>
                    </div>

                    <button class="btn-save-slot">üíæ Guardar</button>
                </div>

                <!-- Bot√≥n 2 -->
                <div class="footswitch" data-index="1">
                    <div class="fs-header">Preset 2</div>
                    <input type="text" class="fs-name" maxlength="4" placeholder="NAME">
                    
                    <label>Tipo:</label>
                    <select class="fs-type">
                        <option value="P">Preset (PC)</option>
                        <option value="D">Efecto (CC)</option>
                    </select>
                    
                    <div class="fs-dynamic-content">
                        <div class="fs-options-preset">
                            <label>Bank:</label><input type="number" class="fs-val2-pc" min="0" max="99">
                            <label>Prog:</label><input type="number" class="fs-val1-pc" min="0" max="99">
                        </div>
                        <div class="fs-options-dict" style="display:none;">
                            <label>Efecto:</label><select class="fs-val1-dict"></select>
                        </div>
                    </div>

                    <!-- Long Press Section -->
                    <div class="lp-separator">Long Press (Hold)</div>
                    <div class="lp-container">
                        <label>Acci√≥n:</label>
                        <select class="fs-lp-type">
                            <option value="N">-- Nada --</option>
                            <option value="P">Cambiar Preset</option>
                            <option value="C">Midi CC (Custom)</option>
                            <option value="D">Efecto / Funci√≥n</option>
                        </select>
                        
                        <div class="lp-options lp-opt-p" style="display:none;">
                            <input type="number" class="fs-lp-v2-p" placeholder="Bank" title="Bank">
                            <input type="number" class="fs-lp-v1-p" placeholder="Prog" title="Program">
                        </div>
                        <div class="lp-options lp-opt-c" style="display:none;">
                            <input type="number" class="fs-lp-v1-c" placeholder="CC#" title="CC Number">
                            <input type="number" class="fs-lp-v2-c" placeholder="Val" title="Value">
                        </div>
                        <div class="lp-options lp-opt-d" style="display:none;">
                            <select class="fs-lp-val-d fs-val1-dict"></select>
                        </div>
                    </div>
                    
                    <button class="btn-save-slot">üíæ Guardar</button>
                </div>

                <!-- Bot√≥n 3 -->
                <div class="footswitch" data-index="2">
                    <div class="fs-header">Preset 3</div>
                    <input type="text" class="fs-name" maxlength="4" placeholder="NAME">
                    
                    <label>Tipo:</label>
                    <select class="fs-type">
                        <option value="P">Preset (PC)</option>
                        <option value="D">Efecto (CC)</option>
                    </select>
                    
                    <div class="fs-dynamic-content">
                        <div class="fs-options-preset">
                            <label>Bank:</label><input type="number" class="fs-val2-pc" min="0" max="99">
                            <label>Prog:</label><input type="number" class="fs-val1-pc" min="0" max="99">
                        </div>
                        <div class="fs-options-dict" style="display:none;">
                            <label>Efecto:</label><select class="fs-val1-dict"></select>
                        </div>
                    </div>

                    <!-- Long Press Section -->
                    <div class="lp-separator">Long Press (Hold)</div>
                    <div class="lp-container">
                        <label>Acci√≥n:</label>
                        <select class="fs-lp-type">
                            <option value="N">-- Nada --</option>
                            <option value="P">Cambiar Preset</option>
                            <option value="C">Midi CC (Custom)</option>
                            <option value="D">Efecto / Funci√≥n</option>
                        </select>
                        
                        <div class="lp-options lp-opt-p" style="display:none;">
                            <input type="number" class="fs-lp-v2-p" placeholder="Bank" title="Bank">
                            <input type="number" class="fs-lp-v1-p" placeholder="Prog" title="Program">
                        </div>
                        <div class="lp-options lp-opt-c" style="display:none;">
                            <input type="number" class="fs-lp-v1-c" placeholder="CC#" title="CC Number">
                            <input type="number" class="fs-lp-v2-c" placeholder="Val" title="Value">
                        </div>
                        <div class="lp-options lp-opt-d" style="display:none;">
                            <select class="fs-lp-val-d fs-val1-dict"></select>
                        </div>
                    </div>
                    
                    <button class="btn-save-slot">üíæ Guardar</button>
                </div>
            </div>
        </main>
        
        <!-- Global Settings Section (New) -->
        <section id="globalPanel" class="disabled glass-panel" style="margin-top: 20px; padding: 20px;">
            <h2 style="margin-top:0; color:var(--neon-blue); border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:10px;">CONFIGURACI√ìN GLOBAL</h2>
            <div class="global-grid">
                <!-- Lateral Izquierdo (Antes Guitar) -->
                <div class="global-card" data-id="0">
                    <div class="gc-header">
                        <span class="gc-icon">‚¨ÖÔ∏è</span> 
                        Bot√≥n Lateral Izq
                    </div>
                    <div class="gc-body">
                         <div class="input-row">
                             <label>Nombre:</label>
                             <input type="text" class="gc-name" maxlength="4" value="LAT">
                         </div>
                         <div class="input-row">
                             <label>Tipo:</label>
                             <select class="gc-type">
                                <option value="P">Preset</option>
                                <option value="D">Efecto</option>
                             </select>
                         </div>
                         <div class="gc-options-preset">
                             <input type="number" class="gc-v2" placeholder="Bank">
                             <input type="number" class="gc-v1" placeholder="Prog">
                         </div>
                         <div class="gc-options-dict" style="display:none">
                             <select class="gc-val-dict fs-val1-dict"></select>
                         </div>
                         <button class="btn-save-global">üíæ Guardar</button>
                    </div>
                </div>

                <!-- Central Superior (Antes Ctrl2) -->
                <div class="global-card" data-id="1">
                    <div class="gc-header">
                        <span class="gc-icon">‚¨ÜÔ∏è</span> 
                        Bot√≥n Central Sup
                    </div>
                    <div class="gc-body">
                         <div class="input-row">
                             <label>Nombre:</label>
                             <input type="text" class="gc-name" maxlength="4" value="CEN">
                         </div>
                         <div class="input-row">
                             <label>Tipo:</label>
                             <select class="gc-type">
                                <option value="P">Preset</option>
                                <option value="D">Efecto</option>
                             </select>
                         </div>
                         <div class="gc-options-preset">
                             <input type="number" class="gc-v2" placeholder="Bank">
                             <input type="number" class="gc-v1" placeholder="Prog">
                         </div>
                         <div class="gc-options-dict" style="display:none">
                             <select class="gc-val-dict fs-val1-dict"></select>
                         </div>
                         <button class="btn-save-global">üíæ Guardar</button>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <!-- Connection Modal -->
    <div id="connectionModal" class="modal-overlay">
        <div class="modal-box">
            <h2>Selecciona Conexi√≥n</h2>
            <div class="modal-buttons">
                <button id="btnModeUSB" class="btn-mode">
                    <span class="mode-icon">üîå</span>
                    <div class="mode-text">
                        <span class="mode-title">Cable USB</span>
                        <span class="mode-desc">Standard MIDI (31250)</span>
                    </div>
                </button>
                <button id="btnModeBT" class="btn-mode">
                    <span class="mode-icon">üì∂</span>
                    <div class="mode-text">
                        <span class="mode-title">Bluetooth</span>
                        <span class="mode-desc">Standard (9600)</span>
                    </div>
                </button>
            </div>
            <button id="btnCancelConnect" class="btn-text">Cancelar</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>